import{_ as R}from"./MainLayout.vue_vue_type_script_setup_true_lang-CQNhcmtc.js";import{d as A,r as d,w as k,o as D,D as G,e,b as t,f as I,z as H,x as C,t as y,A as J,E as K,m as h,u as n,F as g,G as q,s as O,a as b,c as z,V as T,l as B,h as U,g as N,i as Q,j as W,k as _,H as X,I as Y,J as Z,K as S,L as E}from"./app-CB06vJSy.js";import{a as V}from"./AddNotification-NyjqDbEZ.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Notifications.vue_vue_type_style_index_0_lang-DOp5nevM.js";const ee={name:"ConfirmsModal"},P=A({...ee,props:{title:{type:String},content:{type:String},confirmButtonText:{type:String,default:"Confirm"},confirmButtonColor:{type:String,default:"error"},show:{type:Boolean,default:!1}},emits:["confirmed","update:show"],setup(c,{emit:f}){const i=c,m=f;let s=d(i.show);k(s,async r=>{i.show.value!=r&&m("update:show",r)}),k(()=>i.show,async r=>{s.value!=r&&(s.value=r)});function v(){s.value=!1,m("confirmed")}function x(){s.value=!1}return(r,p)=>(D(),G("span",null,[e(q,{modelValue:n(s),"onUpdate:modelValue":p[0]||(p[0]=u=>g(s)?s.value=u:s=u),"max-width":"600px"},{default:t(()=>[e(I,null,{default:t(()=>[e(H,null,{default:t(()=>[C(y(c.title),1)]),_:1}),e(J,null,{default:t(()=>[C(y(c.content),1)]),_:1}),e(K,{class:"d-flex justify-space-between"},{default:t(()=>[e(h,{color:"secondary",type:"button",onClick:x},{default:t(()=>p[1]||(p[1]=[C(" Cancel ")])),_:1}),e(h,{type:"button",color:c.confirmButtonColor,onClick:v},{default:t(()=>[C(y(c.confirmButtonText),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),te={class:"text-body-2"},ae={class:"text-body-2"},le=A({__name:"Table",setup(c){let f=d(1),i=d(10),m=d(""),s=d(!1),v=d([]),x=d(0),r=d(),p=d(!1),u=d(!1),F=O(()=>[{title:"Nume",sortable:!1,key:"name"},{title:"Email",sortable:!1,key:"email"},{value:"actions",sortable:!1,align:"end"}]);k(m,()=>w());function M(){s.value=!0,b.post(route("admin.user.delete",[r])).then(o=>{V("Utilizator șters cu succes","success"),w()}).catch(o=>{console.error(o),V("A apărut o eroare neașteptată în timpul ștergerii elementului","error"),s.value=!1}).finally(()=>{r.value=null})}function j(){s.value=!0,b.post(route("admin.user.delete-all")).then(o=>{V("Utilizatori șterși cu succes","success"),v.value=[]}).catch(o=>{console.error(o),V("A apărut o eroare neașteptată în timpul ștergerii elementului","error")}).finally(()=>{s.value=!1,r.value=null})}function w(){b.get(route("admin.user.fetch",{page:f.value,per_page:i.value,search:m.value})).then(o=>{v.value=o.data.data,x.value=o.data.meta.total}).catch(o=>{console.error(o),V("A apărut o eroare neașteptată în timpul încărcării datelor","error"),v.value=[],x.value=1}).finally(()=>{s.value=!1})}return(o,l)=>(D(),z(N,{class:"section-separator"},{default:t(()=>[e(U,{class:"pt-2"},{default:t(()=>[e(T,{cols:"12",class:"d-flex justify-space-between align-center"},{default:t(()=>[e(n(B),{href:o.route("admin.user.create")},{default:t(()=>[e(h,{"prepend-icon":"mdi-plus",text:"Creați noi"})]),_:1},8,["href"]),e(h,{"prepend-icon":"mdi-delete-outline",text:"Ștergeți toate",onClick:l[0]||(l[0]=a=>g(u)?u.value=!0:u=!0),color:"error"})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(T,null,{default:t(()=>[e(I,{class:"pa-5"},{default:t(()=>[e(N,{fluid:""},{default:t(()=>[e(U,{class:"p-0"},{default:t(()=>[e(T,{class:"pa-0",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e(Q,{modelValue:n(m),"onUpdate:modelValue":l[1]||(l[1]=a=>g(m)?m.value=a:m=a),placeholder:"Cautare","hide-details":"auto",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(W,{class:"pt-5",headers:n(F),page:n(f),"onUpdate:page":l[2]||(l[2]=a=>g(f)?f.value=a:f=a),"items-per-page":n(i),"onUpdate:itemsPerPage":l[3]||(l[3]=a=>g(i)?i.value=a:i=a),items:n(v),"items-length":n(x),"items-per-page-text":"Utilizatori pe pagină",loading:n(s),"item-value":"name","onUpdate:options":w},{"header.name":t(()=>l[8]||(l[8]=[_("p",{class:"text-h6 main-text"},"Nume",-1)])),"header.email":t(()=>l[9]||(l[9]=[_("p",{class:"text-h6 main-text"},"Email",-1)])),"item.name":t(({item:a})=>[_("p",te,y(a.name),1)]),"item.email":t(({item:a})=>[_("p",ae,y(a.email),1)]),"item.actions":t(({item:a})=>[e(X,{rounded:""},{activator:t(({props:L})=>[e(h,Y({class:"actions-button",text:"asd",elevation:"0",icon:"mdi-dots-vertical"},L),null,16)]),default:t(()=>[e(I,{class:"mx-auto","max-width":"300"},{default:t(()=>[e(Z,{density:"compact"},{default:t(()=>[e(n(B),{href:o.route("admin.user.edit",a.id)},{default:t(()=>[e(S,{"prepend-icon":"mdi-pencil-outline",slim:""},{default:t(()=>[e(E,{textContent:"Edit"})]),_:1})]),_:2},1032,["href"]),e(n(B),{href:o.route("admin.user.create")},{default:t(()=>[e(S,{"prepend-icon":"mdi-delete-outline",slim:""},{default:t(()=>[e(E,{textContent:"Delete"})]),_:1})]),_:1},8,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),"no-data":t(()=>l[10]||(l[10]=[_("p",{class:"text-body-1 py-10"},"Nu există date disponibile",-1)])),_:1},8,["headers","page","items-per-page","items","items-length","loading"])]),_:1})]),_:1})]),_:1}),e(P,{show:n(p),"onUpdate:show":l[4]||(l[4]=a=>g(p)?p.value=a:p=a),title:"Sunteți sigur că doriți să ștergeți?",content:"Faceți clic pentru a șterge acest element",onConfirmed:l[5]||(l[5]=a=>M())},null,8,["show"]),e(P,{show:n(u),"onUpdate:show":l[6]||(l[6]=a=>g(u)?u.value=a:u=a),title:"Sunteți sigur că doriți să ștergeți?",content:"Faceți clic pentru a șterge toate elementele",onConfirmed:l[7]||(l[7]=a=>j())},null,8,["show"])]),_:1}))}}),se=$(le,[["__scopeId","data-v-98236015"]]),de=A({__name:"Index",setup(c){return(f,i)=>(D(),z(R,null,{default:t(()=>[e(se)]),_:1}))}});export{de as default};
