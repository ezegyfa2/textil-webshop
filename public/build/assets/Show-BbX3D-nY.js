import{_ as k}from"./MainLayout.vue_vue_type_script_setup_true_lang-BHvq5jCj.js";import{a as N}from"./AddNotification-2Rtx2n4D.js";import{s as P}from"./Helpers-BS7P6LL9.js";import{d as v,n as q,p as D,r as u,q as T,s as U,o as _,c as h,b as t,k as a,e as o,v as w,t as n,u as R,j as S,h as y,V as r,x as m,f as $,y as A,g as B}from"./app-CQD9cFlp.js";import"./Notifications.vue_vue_type_style_index_0_lang-VHMnjnpo.js";const I={class:"text-body-2 main-text"},M={class:"text-body-2 text-center main-text"},O={class:"text-body-2 text-center main-text"},j={class:"text-body-2 text-center main-text"},E=v({__name:"CartItemsTable",props:q({cart_id:{}},{loading:{},loadingModifiers:{}}),emits:["update:loading"],setup(x){const c=x,{mdAndUp:i}=D(),e=u(1),p=u([]),f=u(0),g=u(5),b=T(x,"loading"),V=U(()=>{const d=[{key:"image"},{title:"",key:"name"},{key:"price"},{key:"quantity"}];return i.value&&d.push({key:"subtotal"}),d});function C(){axios.get(route("admin.cart.fetch-items",{page:e.value,per_page:g.value,cart_id:c.cart_id})).then(d=>{p.value=d.data.data,f.value=d.data.meta.total}).catch(d=>{console.error(d),N("A apărut o eroare neașteptată în timpul încărcării datelor","error"),p.value=[],f.value=1}).finally(()=>{b.value=!1})}return(d,l)=>(_(),h(S,{page:e.value,"onUpdate:page":l[0]||(l[0]=s=>e.value=s),"items-per-page":g.value,"onUpdate:itemsPerPage":l[1]||(l[1]=s=>g.value=s),items:p.value,"items-length":f.value,headers:V.value,"first-icon":"","last-icon":"","hide-default-footer":f.value<=10,"disable-sort":"","onUpdate:options":C},{"header.image":t(({column:s})=>l[2]||(l[2]=[a("p",{class:"text-h6 main-text"},"Produs",-1)])),"header.price":t(({column:s})=>l[3]||(l[3]=[a("p",{class:"text-h6 text-center main-text"},"Preț",-1)])),"header.quantity":t(({column:s})=>l[4]||(l[4]=[a("p",{class:"text-h6 text-center main-text"},"Cantitate",-1)])),"header.subtotal":t(({column:s})=>l[5]||(l[5]=[a("p",{class:"text-h6 text-center main-text"},"Subtotal",-1)])),"item.image":t(({item:s})=>[o(w,{class:"my-2",src:s.product.image_src,height:"100",width:"100",cover:""},null,8,["src"])]),"item.name":t(({item:s})=>[a("p",I,n(R(P)(s.product.name)),1)]),"item.price":t(({item:s})=>[a("p",M,n(s.product.price)+" RON",1)]),"item.quantity":t(({item:s})=>[a("p",O,n(s.quantity),1)]),"item.subtotal":t(({item:s})=>[a("p",j,n((s.product.price*s.quantity).toFixed(2))+" RON",1)]),"no-data":t(()=>l[6]||(l[6]=[a("p",{class:"text-body-1 pt-8"},"Coșul este gol",-1)])),_:1},8,["page","items-per-page","items","items-length","headers","hide-default-footer"]))}}),F={class:"p-5"},H={class:"text-h5 main-text text-end"},Q=v({__name:"Show",props:{total_price:{},cart_id:{},first_name:{},last_name:{},email:{},phone:{},company_name:{},address:{},postal_code:{}},setup(x){const c=u(!1);return u([]),(i,e)=>(_(),h(k,null,{default:t(()=>[o(B,null,{default:t(()=>[o(y,{class:"my-10"},{default:t(()=>[o(r,{cols:"12"},{default:t(()=>e[1]||(e[1]=[a("p",{class:"text-h4 main-text text-uppercase"}," Detalii de facturare ",-1)])),_:1})]),_:1}),o(y,null,{default:t(()=>[o(r,{cols:"6",sm:"4"},{default:t(()=>[e[2]||(e[2]=a("p",{class:"text-h6 main-text"},"Prenume",-1)),m(" "+n(i.first_name),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[3]||(e[3]=a("p",{class:"text-h6 main-text"},"Nume",-1)),m(" "+n(i.last_name),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[4]||(e[4]=a("p",{class:"text-h6 main-text"},"Email",-1)),m(" "+n(i.email),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[5]||(e[5]=a("p",{class:"text-h6 main-text"},"Număr de telefon",-1)),m(" "+n(i.phone),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[6]||(e[6]=a("p",{class:"text-h6 main-text"},"Denumirea companiei",-1)),m(" "+n(i.company_name),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[7]||(e[7]=a("p",{class:"text-h6 main-text"},"Cod postal",-1)),m(" "+n(i.postal_code),1)]),_:1}),o(r,{cols:"6",sm:"4"},{default:t(()=>[e[8]||(e[8]=a("p",{class:"text-h6 main-text"},"Adresa",-1)),m(" "+n(i.address),1)]),_:1}),o(r,{cols:"12"},{default:t(()=>[o($,{class:"mt-10"},{default:t(()=>[o(E,{cart_id:i.cart_id,loading:c.value,"onUpdate:loading":e[0]||(e[0]=p=>c.value=p)},null,8,["cart_id","loading"]),o(A,{thickness:1,opacity:"100"}),a("div",F,[a("p",H,"Preț total: "+n(i.total_price)+" RON",1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Q as default};
